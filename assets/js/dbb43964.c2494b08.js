"use strict";(self.webpackChunklevelupdocs=self.webpackChunklevelupdocs||[]).push([[7801],{6262:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>d});var n=s(4848),i=s(8453);const o={title:"Automatically populate users",description:"Automatically populate leaderboards and reports with users.",slug:"/automatic-user-provisioning"},r=void 0,a={id:"how-to/populate-users/index",title:"Automatically populate users",description:"Automatically populate leaderboards and reports with users.",source:"@site/xp/docs/how-to/populate-users/index.mdx",sourceDirName:"how-to/populate-users",slug:"/automatic-user-provisioning",permalink:"/xp/docs/automatic-user-provisioning",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Automatically populate users",description:"Automatically populate leaderboards and reports with users.",slug:"/automatic-user-provisioning"},sidebar:"tutorialSidebar",previous:{title:"Limit points per day",permalink:"/xp/docs/how-to/limit-points-per-day/"},next:{title:"Use shortcodes",permalink:"/xp/docs/how-to/use-shortcodes/"}},l={},d=[{value:"Activate automatic provisioning",id:"activate-automatic-provisioning",level:2},{value:"Caveats",id:"caveats",level:2},{value:"Alternative method",id:"alternative-method",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"XP typically waits for users to earn points before they become visible. This means that some users may not appear in the leaderboard or in the report. This behaviour is intentional as to reduce unnecessary entries in the database."}),"\n",(0,n.jsx)(t.p,{children:"Please note the differences between XP modes:"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Per course"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"The leaderboard only displays users detected by XP"}),"\n",(0,n.jsxs)(t.li,{children:["The report displays enrolled users with the permission ",(0,n.jsx)(t.code,{children:"block/xp:earnxp"})]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Sitewide"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"The leaderboard only displays users detected by XP"}),"\n",(0,n.jsx)(t.li,{children:"The report only displays users detected by XP"}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"The automatic user provisioning feature ensures that an entry is created for all missing users."}),"\n",(0,n.jsx)(t.h2,{id:"activate-automatic-provisioning",children:"Activate automatic provisioning"}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsx)(t.p,{children:"This feature is considered an advanced feature. We advise to keep it disabled unless the absence of certain users in the reports and leaderboards is a problem."})}),"\n",(0,n.jsxs)(t.p,{children:['To enable the automatic user provisioning, navigate to the settings of Level Up XP under "Site administration > Plugins > Blocks > Level Up XP > General settings", or search for the setting ',(0,n.jsx)(t.code,{children:"provisionstates"}),". Enabling this setting will enable the scheduled task ",(0,n.jsx)(t.code,{children:"state_provisioner"}),"."]}),"\n",(0,n.jsxs)(t.admonition,{type:"note",children:[(0,n.jsx)(t.p,{children:"Alternatively, you may choose to run the task manually once in a while."}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"php admin/cli/scheduled_task.php --execute=block_xp\\task\\state_provisioner_task\n"})})]}),"\n",(0,n.jsx)(t.h2,{id:"caveats",children:"Caveats"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:'The courses where the setting "Enable XP gain" is set to "No" are ignored.'}),"\n",(0,n.jsx)(t.li,{children:"The scheduled task runs daily by default, and thus provisioning is not instant."}),"\n",(0,n.jsxs)(t.li,{children:["In course mode, all users with the permission ",(0,n.jsx)(t.code,{children:"block/xp:earnxp"})," are considered."]}),"\n",(0,n.jsxs)(t.li,{children:["In sitewide mode, only users who appear to have the permission ",(0,n.jsx)(t.code,{children:"block/xp:earnxp"})," anywhere are considered."]}),"\n",(0,n.jsx)(t.li,{children:"Other users than intended could surface into the report and leaderboard."}),"\n",(0,n.jsx)(t.li,{children:"Admin users are not provisioned unless they have explicit role assignments"}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"alternative-method",children:"Alternative method"}),"\n",(0,n.jsxs)(t.p,{children:["Instead of enabling the automatic user population, you may use ",(0,n.jsx)(t.a,{href:"/xp/docs/how-to/import-points/importing-points-from-csv",children:"import feature"}),". The CSV would contain the list of all users, with the ",(0,n.jsx)(t.code,{children:"points"})," column set to ",(0,n.jsx)(t.code,{children:"0"}),'. During the import, the "Points import action" should be set to "Increase". This will force XP to create an entry for all missing users, while not affecting the points of existing ones.']})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>a});var n=s(6540);const i={},o=n.createContext(i);function r(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);