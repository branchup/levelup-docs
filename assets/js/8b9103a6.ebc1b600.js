"use strict";(self.webpackChunklevelupdocs=self.webpackChunklevelupdocs||[]).push([[5099],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(n),h=a,g=c["".concat(l,".").concat(h)]||c[h]||d[h]||i;return n?r.createElement(g,o(o({ref:t},u),{},{components:n})):r.createElement(g,o({ref:t},u))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},2681:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const i={sidebar_position:8},o="Slash arguments",s={unversionedId:"getting-started/installation/slasharguments",id:"getting-started/installation/slasharguments",title:"Slash arguments",description:"This is a technical page for server administrators and hosting providers.",source:"@site/xp/docs/getting-started/installation/slasharguments.mdx",sourceDirName:"getting-started/installation",slug:"/getting-started/installation/slasharguments",permalink:"/xp/docs/getting-started/installation/slasharguments",draft:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Upgrading to latest versions",permalink:"/xp/docs/upgrade"},next:{title:"Uninstalling the plugins",permalink:"/xp/docs/getting-started/installation/uninstallation"}},l={},p=[{value:"Nginx",id:"nginx",level:2},{value:"IIS",id:"iis",level:2}],u={toc:p};function d(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"slash-arguments"},"Slash arguments"),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"This is a technical page for server administrators and hosting providers.")),(0,a.kt)("p",null,"XP uses Moodle's ",(0,a.kt)("a",{parentName:"p",href:"https://docs.moodle.org/en/Using_slash_arguments"},"slash arguments")," to determine which view to display to the user. If the web server is not properly configured, the following error may appear: ",(0,a.kt)("em",{parentName:"p"},"Coding error: Controller for route not found"),"."),(0,a.kt)("p",null,"See below for ",(0,a.kt)("a",{parentName:"p",href:"#nginx"},"Nginx")," and ",(0,a.kt)("a",{parentName:"p",href:"#iis"},"IIS"),"."),(0,a.kt)("h2",{id:"nginx"},"Nginx"),(0,a.kt)("p",null,"Please ensure that Nginx was set-up according to the ",(0,a.kt)("a",{parentName:"p",href:"https://docs.moodle.org/en/Nginx#Nginx"},"Moodle documentation on Nginx"),". The plugin has been confirmed to work in this configuration."),(0,a.kt)("p",null,"If you still do not have success with this, you might have the following rewrite rule in your site definition:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"rewrite ^/(.*.php)(/)(.*)$ /$1?file=/$3 last;\n")),(0,a.kt)("p",null,"The latter rule assumes that the path should be passed to the ",(0,a.kt)("inlineCode",{parentName:"p"},"file")," argument, and thus creates a conflict with the way XP handles the routes. If Nginx is configured according to the Moodle documentation, that ",(0,a.kt)("em",{parentName:"p"},"rewrite")," should not be needed, and thus you may try to remove it and see if it works."),(0,a.kt)("p",null,"Alternatively, and note that this is discouraged, you can add the follow ",(0,a.kt)("em",{parentName:"p"},"rewrite")," rule ",(0,a.kt)("strong",{parentName:"p"},"before")," the previous rewrite rule. Your Nginx site definition should therefore read this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"rewrite ^/(blocks/xp/.*.php)(/)(.*)$ /$1?_r=/$3 last;\nrewrite ^/(.*.php)(/)(.*)$ /$1?file=/$3 last;\n")),(0,a.kt)("p",null,"If at this point you're not having any success, consider disabling the Moodle admin setting ",(0,a.kt)("inlineCode",{parentName:"p"},"slasharguments"),"."),(0,a.kt)("h2",{id:"iis"},"IIS"),(0,a.kt)("p",null,"Please ensure that IIS was set-up according to the ",(0,a.kt)("a",{parentName:"p",href:"https://docs.moodle.org/en/Internet_Information_Services"},"Moodle documentation on IIS"),"."),(0,a.kt)("p",null,"You will need to add a second rewrite rule for XP itself, please configure as follows:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Requested URL: Matches the pattern"),(0,a.kt)("li",{parentName:"ul"},"Using: Regular expressions"),(0,a.kt)("li",{parentName:"ul"},"Pattern: ",(0,a.kt)("inlineCode",{parentName:"li"},"^(blocks\\/xp\\/[^\\?]+?\\.php)(\\/.+)$")),(0,a.kt)("li",{parentName:"ul"},"Action: Rewrite"),(0,a.kt)("li",{parentName:"ul"},"Rewrite URL: ",(0,a.kt)("inlineCode",{parentName:"li"},"{R:1}?_r={R:2} ")),(0,a.kt)("li",{parentName:"ul"},"Append query string: Checked"),(0,a.kt)("li",{parentName:"ul"},"Stop processing of subsequent rule: Checked")),(0,a.kt)("p",null,"Make sure that this rule takes precedence over the other rule required by Moodle."),(0,a.kt)("p",null,"If at this point you're not having any success, consider disabling the Moodle admin setting ",(0,a.kt)("inlineCode",{parentName:"p"},"slasharguments"),"."))}d.isMDXComponent=!0}}]);